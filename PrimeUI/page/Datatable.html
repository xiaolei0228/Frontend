<!DOCTYPE html>
<html>
<head>
    <title>DataTable</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" href="../resource/css/jquery-ui.min.css"/>
    <link rel="stylesheet" href="../resource/css/primeui-1.0-min.css"/>
    <link rel="stylesheet" href="../resource/themes/bootstrap/theme.css"/>
    <script type="text/javascript" src="../resource/js/jquery-1.11.0.js"></script>
    <script type="text/javascript" src="../resource/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../resource/js/primeui-1.0-min.js"></script>
</head>
<body style="font-size: 13px">
<div id="messages"></div>
<div id="tbllocal"></div>
<div id="tblremoteeager"></div>
<div id="tblremotelazy"></div>
</body>
</html>
<script type="text/javascript">
    $(function () {
        $('#tbllocal').puidatatable({
            caption: 'Local Datasource',
            paginator: {
                rows: 5
            },
            columns: [
                {field: 'vin', headerText: 'Vin', sortable: true},
                {field: 'brand', headerText: 'Brand', sortable: true},
                {field: 'year', headerText: 'Year', sortable: true},
                {field: 'color', headerText: 'Color', sortable: true}
            ],
            datasource: [
                {'brand': 'Volkswagen', 'year': 2012, 'color': 'White', 'vin': 'dsad231ff'},
                {'brand': 'Audi', 'year': 2011, 'color': 'Black', 'vin': 'gwregre345'},
                {'brand': 'Renault', 'year': 2005, 'color': 'Gray', 'vin': 'h354htr'},
                {'brand': 'Bmw', 'year': 2003, 'color': 'Blue', 'vin': 'j6w54qgh'},
                {'brand': 'Mercedes', 'year': 1995, 'color': 'White', 'vin': 'hrtwy34'},
                {'brand': 'Opel', 'year': 2005, 'color': 'Black', 'vin': 'jejtyj'},
                {'brand': 'Honda', 'year': 2012, 'color': 'Yellow', 'vin': 'g43gr'},
                {'brand': 'Chevrolet', 'year': 2013, 'color': 'White', 'vin': 'greg34'},
                {'brand': 'Opel', 'year': 2000, 'color': 'Black', 'vin': 'h54hw5'},
                {'brand': 'Mazda', 'year': 2013, 'color': 'Red', 'vin': '245t2s'}
            ],
            selectionMode: 'single',
            rowSelect: function (event, data) {
                $('#messages').puigrowl('show', [
                    {severity: 'info', summary: 'Row Selected', detail: (data.brand + ' ' + data.vin)}
                ]);
            },
            rowUnselect: function (event, data) {
                $('#messages').puigrowl('show', [
                    {severity: 'info', summary: 'Row Unselected', detail: (data.brand + ' ' + data.vin)}
                ]);
            }
        });

        $('#tblremoteeager').puidatatable({
            caption: 'Remote Restful Webservice',
            paginator: {
                rows: 5
            },
            columns: [
                {field: 'vin', headerText: 'Vin', sortable: true},
                {field: 'brand', headerText: 'Brand', sortable: true},
                {field: 'year', headerText: 'Year', sortable: true},
                {field: 'color', headerText: 'Color', sortable: true}
            ],
            datasource: function (callback) {
                $.ajax({
                    type: "GET",
                    url: 'rest/cars/list',
                    dataType: "json",
                    context: this,
                    success: function (response) {
                        callback.call(this, response);
                    }
                });
            },
            selectionMode: 'multiple',
            rowSelect: function (event, data) {
                $('#messages').puigrowl('show', [
                    {severity: 'info', summary: 'Row Selected', detail: (data.brand + ' ' + data.vin)}
                ]);
            },
            rowUnselect: function (event, data) {
                $('#messages').puigrowl('show', [
                    {severity: 'info', summary: 'Row Unselected', detail: (data.brand + ' ' + data.vin)}
                ]);
            }
        });

        $('#tblremotelazy').puidatatable({
            lazy: true,
            caption: 'Remote Restful Webservice - Lazy',
            paginator: {
                rows: 5,
                totalRecords: 200
            },
            columns: [
                {field: 'vin', headerText: 'Vin', sortable: true},
                {field: 'brand', headerText: 'Brand', sortable: true},
                {field: 'year', headerText: 'Year', sortable: true},
                {field: 'color', headerText: 'Color', sortable: true}
            ],
            datasource: function (callback, ui) {
                var uri = 'rest/cars/lazylist/' + ui.first;
                if (ui.sortField) {
                    uri += '/' + ui.sortField + '/' + ui.sortOrder;
                }

                $.ajax({
                    type: "GET",
                    url: uri,
                    dataType: "json",
                    context: this,
                    success: function (response) {
                        callback.call(this, response);
                    }
                });
            }
        });

        $('#messages').puigrowl();
    });
</script>